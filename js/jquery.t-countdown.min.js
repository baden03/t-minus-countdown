var $jscomp={scope:{},findInternal:function(a,f,e){a instanceof String&&(a=String(a));for(var g=a.length,b=0;b<g;b++){var c=a[b];if(f.call(e,c,b,a))return{i:b,v:c}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=e.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,f,e,g){if(f){e=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var b=a[g];b in e||(e[b]={});e=e[b]}a=a[a.length-1];g=e[a];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
(function(a){function f(a){minus="";0>a&&(a=Math.abs(a),minus="- ");var b=Math.floor(a/86400),d=Math.floor(a%86400/3600),e=Math.floor(a%3600/60);a=Math.floor(a%60);return minus+(0<b?b+(1==b?" day ":" days "):"")+(0<d?d+(1==d?" hour ":" hours "):"")+(0<e?e+(1==e?" min. ":" mins. "):"")+(0<a?a+(1==a?" sec.":" secs."):"")}var e=0,g=0;a.fn.tminusCountDown=function(b){if(void 0!=a(this)[0])return config={},a.extend(config,b),b=a.parseJSON(tCountAjax.tminusnow),nowTime=new Date(b.now),tminusTargetTime=
this.setTminustminusTargetTime(config.targetDate.target),a.data(a(this)[0],"tminusTargetTime",tminusTargetTime),a.data(a(this)[0],"id",config.id),browserTime=new Date,"true"===config.debug&&(a("#"+config.id+"-jsnow").html(browserTime),a("#"+config.id+"-jstarg").html(tminusTargetTime)),timeOffset=Math.round((browserTime.getTime()-nowTime.getTime())/1E3),a(this).getRestNow(config.id,config.debug),style=config.style,a.data(a(this)[0],"style",config.style),a.data(a(this)[0],"status","play"),a.data(a(this)[0],
"adjusted","false"),config.event_id&&(a.data(a(this)[0],"event_id",config.event_id),a.ajax({url:tCountAjax.ajaxurl,type:"post",dataType:"json",data:{action:"tminusevents",event_id:config.event_id,countdownNonce:tCountAjax.countdownNonce},success:a.proxy(function(b){a.data(a(this)[0],"eventObj",b)},this)})),config.launchtarget&&a.data(a(this)[0],"launchtarget",config.launchtarget),config.onComplete&&a.data(a(this)[0],"callback",config.onComplete),config.hangtime&&a.data(a(this)[0],"hangtime",config.hangtime),
a("#"+a(this).attr("id")+" ."+style+"-digit").each(function(b){digit=a(this).data("digit");a(this).html('<div class="tc_top"></div><div class="tc_bottom">'+digit+"</div>")}),diffSecs=Math.floor((tminusTargetTime.getTime()-nowTime.getTime())/1E3),this.doTminusCountDown(a(this).attr("id"),diffSecs,500),this};a.fn.getRestNow=function(b,c){a.ajax({method:"GET",url:tCountAjax.api_url+"now",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",tCountAjax.api_nonce)},success:function(d){restTime=new Date(d.date);
g=Math.round((nowTime.getTime()-restTime.getTime())/1E3);"true"===c&&(e=Math.round((browserTime.getTime()-restTime.getTime())/1E3),a("#"+b+"-jstzone").html(f(e)),restseconds=Math.floor((tminusTargetTime.getTime()-restTime.getTime())/1E3),a("#"+b+"-jstime").html(d),a("#"+b+"-restdiff").html(f(restseconds)),a("#"+b+"-jscached").html(f(g)))},fail:function(a){console.log("error: ",a)}})};a.fn.stopTminusCountDown=function(){a.data(this[0],"status","stop")};a.fn.startTminusCountDown=function(){a.data(this[0],
"status","play");this.doTminusCountDown(a(this).attr("id"),a.data(this[0],"diffSecs"),500)};a.fn.setTminustminusTargetTime=function(a){return t=new Date(a)};a.fn.doTminusCountDown=function(b,c,d){$this=a("#"+b);style=a.data($this[0],"style");adjusted=a.data($this[0],"adjusted");seconds_elm=a("#"+b+" ."+style+"-seconds_dash");minutes_elm=a("#"+b+" ."+style+"-minutes_dash");hours_elm=a("#"+b+" ."+style+"-hours_dash");days_elm=a("#"+b+" ."+style+"-days_dash");weeks_elm=a("#"+b+" ."+style+"-weeks_dash");
months_elm=a("#"+b+" ."+style+"-months_dash");years_elm=a("#"+b+" ."+style+"-years_dash");0>=c&&"countup"!=a.data($this[0],"launchtarget")&&(c=0,a.data($this[0],"status","stop"));secs=Math.abs(c%60);mins=Math.floor(Math.abs(c/60)%60);seconds_elm.length&&(this.dashTminusChangeTo(b,style+"-seconds_dash",secs,d?d:500),mins!=minutes_elm.data("current")&&(adjusted="false"));if(59==secs||"false"===adjusted)if(mins!=minutes_elm.data("current")&&(this.dashTminusChangeTo(b,style+"-minutes_dash",mins,d?d:1E3),
minutes_elm.data("current",mins)),59==mins||"false"===adjusted)hours=Math.floor(Math.abs(c/60/60)%24),hours!=hours_elm.data("current")&&(this.dashTminusChangeTo(b,style+"-hours_dash",hours,d?d:1E3),23>hours&&hours_elm.data("current",hours)),23==hours&&hours!=hours_elm.data("current")&&(this.dashTminusChangeTo(b,style+"-days_dash",days_elm.data("next"),d?d:1E3),hours_elm.data("current",hours),weeks_elm.length&&void 0!==weeks_elm.data("next")&&this.dashTminusChangeTo(b,style+"-weeks_dash",weeks_elm.data("next"),
d?d:1E3),months_elm.length&&void 0!==months_elm.data("next")&&this.dashTminusChangeTo(b,style+"-months_dash",months_elm.data("next"),d?d:1E3),years_elm=a("#"+b+" ."+style+"-years_dash"),years_elm.length&&void 0!==years_elm.data("next")&&this.dashTminusChangeTo(b,style+"-years_dash",years_elm.data("next"),d?d:1E3));a.data(a(this)[0],"adjusted","true");a.data($this[0],"event_id")&&$this.checkEvent(b,c);0<c||"countup"==a.data($this[0],"launchtarget")?"play"==a.data($this[0],"status")&&(newTime=new Date,
newTime.setSeconds(newTime.getSeconds()-e),c=Math.floor((a.data($this[0],"tminusTargetTime").getTime()-newTime.getTime())/1E3),t=setTimeout(function(){$this.doTminusCountDown(b,c)},1E3)):a.data($this[0],"callback")&&(a.data($this[0],"hangtime"),a.data($this[0],"callback")())};a.fn.dashTminusChangeTo=function(b,c,d,e){$this=a("#"+b);style=a.data($this[0],"style");for(b=$this.find("."+c+" ."+style+"-digit").length-1;0<=b;b--){var f=d%10;d=(d-f)/10;$this.digitTminusChangeTo("#"+$this.attr("id")+" ."+
c+" ."+style+"-digit:eq("+b+")",f,e)}};a.fn.digitTminusChangeTo=function(b,c,d){d||(d=500);"undefined"!=typeof numTransObj&&(c=numTransObj[c]);a(b+" div.tc_top").html()!=c+""&&(a(b+" div.tc_top").css({display:"none"}),a(b+" div.tc_top").html(c?c:"0").stop(!0,!0,!0).slideDown(d),a(b+" div.tc_bottom").stop(!0,!0,!0).animate({height:""},d,function(){a(b+" div.tc_bottom").html(a(b+" div.tc_top").html());a(b+" div.tc_bottom").css({display:"block",height:""});a(b+" div.tc_top").hide().slideUp(10)}))};a.fn.checkEvent=
function(){if(a.data(this[0],"eventObj")){var b=a.data(this[0],"eventObj").tevent,c;for(c in b)if(b[c].hasOwnProperty("tevents_event_time")&&b[c].tevents_event_time==a.data(this[0],"diffSecs")&&(target_elem=b[c].hasOwnProperty("tevents_target_elem")&&"other"==b[c].tevents_event_target?b[c].tevents_target_elem:"#"+a.data(this[0],"id")+"-"+b[c].tevents_event_target,a(target_elem).html(b[c].tevents_event_content),b[c].tevents_event_function)){var d=window[b[c].tevents_event_function];"function"===typeof d&&
d()}}}})(jQuery);
